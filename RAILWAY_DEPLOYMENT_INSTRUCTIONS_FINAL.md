# دستورالعمل‌های نهایی برای استقرار در Railway

## پاکسازی کامل

تمام اشارات به وابستگی‌های ممنوع از پروژه حذف شده‌اند. این کار با استفاده از اسکریپت‌های زیر انجام شده است:

1. `full_aria2_removal.py` - حذف تمام اشارات از فایل‌های پروژه
2. `clean_ytdlp_patch.py` - پچ کردن yt-dlp برای حذف هرگونه وابستگی
3. `complete_aria2_removal.py` - حذف کامل در سطح سیستم

## استقرار در Railway

برای استقرار در Railway، مراحل زیر را دنبال کنید:

1. **ایجاد پروژه جدید در Railway:**
   - به داشبورد Railway بروید
   - روی "New Project" کلیک کنید
   - "Deploy from GitHub repo" را انتخاب کنید

2. **تنظیم متغیرهای محیطی:**
   - `TELEGRAM_BOT_TOKEN` - توکن ربات تلگرام شما
   - `HTTP_DOWNLOADER` - نوع دانلودر HTTP (مقدار: `native`)
   - `YTDLP_DOWNLOADER` - نوع دانلودر yt-dlp (مقدار: `native`)
   - `NO_EXTERNAL_DOWNLOADER` - غیرفعال کردن دانلودرهای خارجی (مقدار: `1`)
   - `DISABLE_EXTERNAL_DL` - غیرفعال کردن دانلودرهای خارجی (مقدار: `true`)

3. **اگر با خطای "Banned Dependency" مواجه شدید:**
   - از منوی "Settings" پروژه، روی "Delete Project" کلیک کنید
   - یک پروژه جدید ایجاد کنید
   - از گزینه "Deploy from Dockerfile" استفاده کنید

## استفاده از Dockerfile

اگر همچنان با مشکل مواجه هستید، می‌توانید از Dockerfile برای استقرار استفاده کنید:

1. در Railway، گزینه "Deploy from Dockerfile" را انتخاب کنید
2. این گزینه از Dockerfile موجود در پروژه استفاده می‌کند که تمام وابستگی‌های ممنوع را حذف می‌کند

## نکات مهم

- اطمینان حاصل کنید که هیچ اشاره‌ای به بسته‌های ممنوع در کد شما وجود ندارد
- از فایل‌های پیکربندی ایجاد شده توسط اسکریپت `full_aria2_removal.py` استفاده کنید
- همیشه قبل از استقرار، اسکریپت پاکسازی را اجرا کنید
